(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{449:function(a,s,e){"use strict";e.r(s);var t=e(8),r=Object(t.a)({},function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"linux-特殊命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux-特殊命令","aria-hidden":"true"}},[a._v("#")]),a._v(" Linux 特殊命令")]),a._v(" "),e("h2",{attrs:{id:"用内存最大的10个进程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用内存最大的10个进程","aria-hidden":"true"}},[a._v("#")]),a._v(" 用内存最大的10个进程:")]),a._v(" "),e("p",[e("code",[a._v("ps -aux | sort -k4nr | head -n 10")])]),a._v(" "),e("h2",{attrs:{id:"最大使用内存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最大使用内存","aria-hidden":"true"}},[a._v("#")]),a._v(" 最大使用内存")]),a._v(" "),e("p",[e("code",[a._v("ps aux| grep -v \"USER\" |sort -n -r -k 4 |awk 'NR==1{ print $0}'")])]),a._v(" "),e("h2",{attrs:{id:"查看缓存的命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看缓存的命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看缓存的命令")]),a._v(" "),e("div",{staticClass:"language-yml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[a._v("free "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("m\nfree "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("h   "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 看内存是否已经释放掉了。")]),a._v("\nfree "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("mh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h2",{attrs:{id:"清理缓存的命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#清理缓存的命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 清理缓存的命令")]),a._v(" "),e("div",{staticClass:"language-yml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[a._v("echo 1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v(" /proc/sys/vm/drop_caches\necho 2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v(" /proc/sys/vm/drop_caches\necho 3 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v(" /proc/sys/vm/drop_caches\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("ul",[e("li",[a._v("0：不释放（系统默认值）")]),a._v(" "),e("li",[a._v("1：释放页缓存")]),a._v(" "),e("li",[a._v("2：释放dentries和inodes")]),a._v(" "),e("li",[a._v("3：释放所有缓存")])]),a._v(" "),e("p",[a._v("我们在清理缓存先要先把buffe中的数据先写入到硬盘中，sync命令")]),a._v(" "),e("h2",{attrs:{id:"查看内存情况："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看内存情况：","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看内存情况：")]),a._v(" "),e("p",[e("code",[a._v("more /proc/meminfo")])]),a._v(" "),e("h2",{attrs:{id:"快速定位较大文件目录并清理硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#快速定位较大文件目录并清理硬盘","aria-hidden":"true"}},[a._v("#")]),a._v(" 快速定位较大文件目录并清理硬盘")]),a._v(" "),e("p",[a._v("分以下步骤进行：")]),a._v(" "),e("ol",[e("li",[a._v("查看磁盘信息："),e("code",[a._v("df -lh")])]),a._v(" "),e("li",[a._v("循环定位最大文件目录："),e("code",[a._v("du -h --max-depth=1")])]),a._v(" "),e("li",[a._v("定位最大文件："),e("code",[a._v("ls -lhS")])]),a._v(" "),e("li",[a._v("确认删除的文件是否仍被占用："),e("code",[a._v("/usr/sbin/lsof | grep deleted")])])]),a._v(" "),e("p",[a._v("最大的文件其实在 "),e("code",[a._v("~/.local/share/Trash")]),a._v(" 下，而这个正是LInux下的垃圾箱(可以理解为windows回收站)  "),e("code",[a._v("sudo rm -rf ~/.local/share/Trash")])])])},[],!1,null,null,null);s.default=r.exports}}]);