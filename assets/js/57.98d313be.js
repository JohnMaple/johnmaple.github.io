(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{445:function(e,s,t){"use strict";t.r(s);var a=t(8),r=Object(a.a)({},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"哪些情况下索引会失效？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#哪些情况下索引会失效？","aria-hidden":"true"}},[e._v("#")]),e._v(" 哪些情况下索引会失效？")]),e._v(" "),t("p",[e._v("索引并不是时时都会生效的，比如以下几种情况，将导致索引失效：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("如果条件中有 "),t("code",[e._v("or")]),e._v("，即使其中有条件带索引也不会使用(这也是为什么尽量少用 "),t("code",[e._v("or")]),e._v(" 的原因)")]),e._v(" "),t("blockquote",[t("p",[e._v("注意：要想使用 "),t("code",[e._v("or")]),e._v("，又想让索引生效，只能将 "),t("code",[e._v("or")]),e._v(" 条件中的每个列都加上索引。")])])]),e._v(" "),t("li",[t("p",[e._v("对于多列索引，不是使用的第一部分，则不会使用索引。")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("like")]),e._v(" 查询是以 "),t("code",[e._v("%")]),e._v(" 开头。")])]),e._v(" "),t("li",[t("p",[e._v("如果列类型是字符串，那一定要在条件中将数据使用引号引用起来,否则不使用索引。")])]),e._v(" "),t("li",[t("p",[e._v("如果 mysql 估计使用全表扫描要比使用索引快,则不使用索引。")])])]),e._v(" "),t("p",[e._v("此外，查看索引的使用情况：")]),e._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("show")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("status")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("like")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Handler_read%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[e._v("handler_read_key")]),e._v("：这个值越高越好，越高表示使用索引查询到的次数")]),e._v(" "),t("li",[t("code",[e._v("handler_read_rnd_next")]),e._v("：这个值越高，说明查询越低效")])])])},[],!1,null,null,null);s.default=r.exports}}]);